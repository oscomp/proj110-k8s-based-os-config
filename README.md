# proj110-k8s-based-os-config
基于k8s operator设计实现通过k8s集群下发操作系统配置

### 项目描述

容器Linux操作系统（简称为容器OS）是为容器运行而设计的轻量级linux操作系统，作为集群worker节点的host OS时，可以由k8s等容器编排系统进行管理，实现容器和容器OS的统一管理。为了提高容器OS的安全性和集群环境的一致性，容器OS通常不会包含ssh，但是在实际使用时用户可能仍需要对节点的某些配置进行修改，所以期望通过k8s集群将配置下发到各个worker节点上。k8s operator是k8s提供的一种扩展机制，可以自定义集群资源和控制器等。所以请基于k8s operator设计并实现一套完整的流程，实现通过k8s集群统一下发配置到worker节点上的功能。

### 所属赛道

2022全国大学生操作系统比赛的“OS功能设计”赛道

### 参赛要求

- 以小组为单位参赛，最多三人一个小组，且小组成员是来自同一所高校的本科生（2022年春季学期或之后本科和研究生毕业的大一~大四的学生、研一~研三的学生）
- 如学生参加了多个项目，参赛学生选择一个自己参加的项目参与评奖
- 请遵循“2022全国大学生操作系统比赛”的章程和技术方案要求

### 项目导师

* 李元戎 liyuanrong1@huawei.com

### 难度

* 中等

### 特征

* 使用go语言完成，使用k8s operator机制
* 通过k8s集群进行系统配置的下发，完成集群中worker节点系统配置的更改

### 文档

* 无

### License

- 任意开源license都可

## 预期目标

###注意：下面的内容是建议内容，不要求必须全部完成。选择本项目的同学也可与导师联系，提出自己的新想法，如导师认可，可加入预期目标

* 基本目标：
  * 使用k8s的operator机制，设计crd和controller等相关组件及组件之间的通信方式
  * 完成crd及controller等相关组件的代码开发
  * 实现配置文件和命令通过k8s集群的master节点统一下发到集群的worker节点上执行，比如完成worker节点 host OS 上 docker 镜像仓库、代理等配置
* 加分项：
  * 安全性：设计合理的机制防止命令注入等问题
  * master节点独立配置：对于多master节点的高可用集群，支持对master节点下发配置，并且区别master节点和worker节点，下发不同的配置
